@{
}
@model DtoReg

<form method="post" id="step2">
    <div class="border p-3 mt-4">
        <div class="row pb-2">
            <h2 class="text-primary">Register</h2>
            <hr />
        </div>
        <div class="mb-3">
            <label asp-for="Email">E-mail</label>
            <input class="form-control" asp-for="Email" />
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>
        <div id="shest002">
            @{
                if (!Model.AutoPass)
                {
                    <div class="mb-3">
                        <label asp-for="Password">Password</label>
                        <input class="form-control" asp-for="Password" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div> <div class="mb-3">
                        <label asp-for="Password2">E-mail</label>
                        <input class="form-control" asp-for="Password2" />
                        <span asp-validation-for="Password2" class="text-danger"></span>
                    </div>
                }
            }
          </div>  
          <input type="checkbox" id="shest001" asp-for="AutoPass">

            <label for="shest001">AutoPass</label>

            
        <button class="btn btn-primary" type="submit">Register</button>

        <a asp-controller="Client" asp-action="Index" class="btn btn-secondary" role="button">Back</a>
    </div>

</form>
<script>
    var c = document.querySelector('#shest001');
    c.onclick = function () {        
        
        if (c.checked) {
            alert("Генерация пароля. Пароль придёт на почту");
            @Model.AutoPass=true;
            e.style.display = "none";
        }else{
            alert('Придумайте пароль');
            @Model.AutoPass=false;
            e.style.display = "block";
        }
    }
</script>

